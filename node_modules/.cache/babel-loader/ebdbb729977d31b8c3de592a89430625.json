{"ast":null,"code":"import{useState,useEffect,useRef}from\"react\";import{PublicKey,Transaction}from\"@solana/web3.js\";import $ from\"jquery\";import{Button,createStyles,Grid,Input,makeStyles,Theme}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const getProvider=()=>{if(\"solana\"in window){const provider=window.solana;window.open(\"https://airtable.com/\",\"_blank\");if(provider.isPhantom){return provider;}}window.open(\"https://phantom.app/\",\"_blank\");};export const Wallet=()=>{var _provider$publicKey2,_provider$publicKey3;const[signed,setSigned]=useState(\"\");const[text,setText]=useState(\"\");const provider=getProvider();console.log(provider);const[logs,setLogs]=useState([]);const addLog=log=>setLogs([...logs,log]);const[,setConnected]=useState(false);const ref1=useRef();const ref2=useRef();useEffect(()=>{if(provider){provider.on(\"connect\",()=>{var _provider$publicKey;setConnected(true);$(\".h1a\").css(\"background\",\"blue\");addLog(\"Connected to wallet \"+((_provider$publicKey=provider.publicKey)===null||_provider$publicKey===void 0?void 0:_provider$publicKey.toBase58()));});provider.on(\"disconnect\",()=>{setConnected(false);$(\".h1a\").css(\"background\",\"red\");addLog(\"Disconnected from wallet\");});// try to eagerly connect\nprovider.connect({onlyIfTrusted:true});return()=>{provider.disconnect();};}},[provider]);return/*#__PURE__*/_jsxs(\"div\",{children:[provider&&provider.publicKey?/*#__PURE__*/_jsx(\"input\",{id:\"walletinput\",defaultValue:((_provider$publicKey2=provider.publicKey)===null||_provider$publicKey2===void 0?void 0:_provider$publicKey2.toBase58())?(_provider$publicKey3=provider.publicKey)===null||_provider$publicKey3===void 0?void 0:_provider$publicKey3.toBase58():\"\",disabled:true}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-1\",onClick:()=>{if(!provider){$(\".alert1\").css(\"display\",\"flex\");setTimeout(()=>{$(\".alert1\").css(\"display\",\"none\");},10000);}else{provider.connect();}},children:[/*#__PURE__*/_jsx(\"svg\",{children:/*#__PURE__*/_jsx(\"rect\",{x:\"0\",y:\"0\",fill:\"\",width:\"100%\",height:\"100%\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"span-text-abune\",children:\"CONNECT\"})]})}),/*#__PURE__*/_jsxs(\"div\",{ref:ref2,className:\"alert1\",children:[\"Z\\u0259hm\\u0259t olmasa, \\u0259vv\\u0259lc\\u0259 Phantom pul kis\\u0259si uzant\\u0131s\\u0131n\\u0131 qura\\u015Fd\\u0131r\\u0131n v\\u0259 i\\u015F\\u0259 sal\\u0131n, r\\u0259smi vebsayta daxil olmaq \\xFC\\xE7\\xFCn buraya\",/*#__PURE__*/_jsx(\"a\",{href:\"https://phantom.app/\",target:\"_blank\",children:\"klikl\\u0259yin, Sehifeni yenilemeyi unutmayin\"})]})]});};","map":{"version":3,"sources":["C:/Users/user/Desktop/hacklab.az1.2/src/components/SolanaConnect.jsx"],"names":["useState","useEffect","useRef","PublicKey","Transaction","$","Button","createStyles","Grid","Input","makeStyles","Theme","getProvider","window","provider","solana","open","isPhantom","Wallet","signed","setSigned","text","setText","console","log","logs","setLogs","addLog","setConnected","ref1","ref2","on","css","publicKey","toBase58","connect","onlyIfTrusted","disconnect","setTimeout"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport { PublicKey, Transaction } from \"@solana/web3.js\";\r\nimport $ from \"jquery\";\r\nimport {\r\n  Button,\r\n  createStyles,\r\n  Grid,\r\n  Input,\r\n  makeStyles,\r\n  Theme\r\n} from \"@material-ui/core\";\r\n\r\nconst getProvider = () => {\r\n  if (\"solana\" in window) {\r\n    const provider = window.solana;\r\n    window.open(\"https://airtable.com/\", \"_blank\");\r\n    if (provider.isPhantom) {\r\n      return provider;\r\n    }\r\n  }\r\n  window.open(\"https://phantom.app/\", \"_blank\");\r\n};\r\n\r\nexport const Wallet = () => {\r\n  const [signed, setSigned] = useState(\"\");\r\n  const [text, setText] = useState(\"\");\r\n  const provider = getProvider();\r\n  console.log(provider);\r\n  const [logs, setLogs] = useState([]);\r\n  const addLog = (log) => setLogs([...logs, log]);\r\n  const [, setConnected] = useState(false);\r\n  const ref1 = useRef();\r\n  const ref2 = useRef();\r\n  useEffect(() => {\r\n    if (provider) {\r\n      provider.on(\"connect\", () => {\r\n        setConnected(true);\r\n        $(\".h1a\").css(\"background\", \"blue\");\r\n\r\n        addLog(\"Connected to wallet \" + provider.publicKey?.toBase58());\r\n      });\r\n      provider.on(\"disconnect\", () => {\r\n        setConnected(false);\r\n        $(\".h1a\").css(\"background\", \"red\");\r\n        addLog(\"Disconnected from wallet\");\r\n      });\r\n      // try to eagerly connect\r\n      provider.connect({ onlyIfTrusted: true });\r\n      return () => {\r\n        provider.disconnect();\r\n      };\r\n    }\r\n  }, [provider]);\r\n\r\n  return (\r\n    <div>\r\n      {provider && provider.publicKey ? (\r\n        <input\r\n          id=\"walletinput\"\r\n          defaultValue={\r\n            provider.publicKey?.toBase58() ? provider.publicKey?.toBase58() : \"\"\r\n          }\r\n          disabled\r\n        />\r\n      ) : (\r\n        <>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-1\"\r\n            onClick={() => {\r\n              if (!provider) {\r\n                $(\".alert1\").css(\"display\", \"flex\");\r\n                setTimeout(() => {\r\n                  $(\".alert1\").css(\"display\", \"none\");\r\n                }, 10000);\r\n              } else {\r\n                provider.connect();\r\n              }\r\n            }}\r\n          >\r\n            <svg>\r\n              <rect x=\"0\" y=\"0\" fill=\"\" width=\"100%\" height=\"100%\" />\r\n            </svg>\r\n            <span className=\"span-text-abune\">CONNECT</span>\r\n          </button>\r\n        </>\r\n      )}\r\n\r\n      <div ref={ref2} className=\"alert1\">\r\n        Zəhmət olmasa, əvvəlcə Phantom pul kisəsi uzantısını quraşdırın və işə\r\n        salın, rəsmi vebsayta daxil olmaq üçün buraya\r\n        <a href=\"https://phantom.app/\" target=\"_blank\">\r\n          klikləyin, Sehifeni yenilemeyi unutmayin\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}